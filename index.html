<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><title>Trailpad</title><style>@font-face{font-family:"Swiss721";src:url("fonts/Swiss721Black.ttf") format("truetype"),url("fonts/Swiss721BT-Black.woff2") format("woff2"),url("fonts/Swiss721BT-Black.woff") format("woff");font-weight:bold;font-style:normal}html,body{width:100%;height:100%;margin:0;background:transparent;font-family:"Swiss721",Arial,sans-serif;text-transform:uppercase;user-select:none}#app{position:absolute;top:80px;left:30px}#stickWrapper{width:240px;height:240px;position:absolute;top:-20px;left:0;background:transparent;background-image:url("stickWrapper.svg");background-size:cover;border-radius:100%}#stickCanvas{width:100%;height:100%;display:block;background:transparent;z-index:1}.joystickHead{position:absolute;left:50%;top:50%;width:50px;height:50px;border-radius:50%;outline:4px solid rgba(255,255,255,.3);outline-offset:-4px;box-shadow:0 0 0 5px #000;transform:translate(-50%,-50%) scale(1);pointer-events:none;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:24px;transition:left .01s,top .01s,transform .1s;background:gray;color:#000;z-index:3}#directionMarkers{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:2}.marker{position:absolute;width:10px;height:10px;border-radius:50%;background:#505050;transform:translate(-50%,-50%);transition:.1s}.marker.active{background:#fff}.btn{position:absolute;background:#000;width:90px;height:90px;display:flex;align-items:center;justify-content:center;font-size:36px;transition:.05s;border-radius:50%;outline:6px solid rgba(255,255,255,.3);outline-offset:-6px;box-shadow:0 2px 0 6px #000;filter:brightness(.9);overflow:hidden;text-align:center;white-space:nowrap;color:#000;cursor:pointer}.btn[data-btn="A"]{background:#4CB6D9;top:110px;left:250px}.btn[data-btn="B"]{background:#CC5C5C;top:110px;left:360px}.btn[data-btn="X"]{background:#B8ADD9;top:0;left:250px}.btn[data-btn="Y"]{background:#9C7ACC;top:0;left:360px}.btn[data-btn="LB"]{background:#D98041;top:0;left:580px}.btn[data-btn="RB"]{background:#6C30BF;top:0;left:470px}.btn[data-btn="LT"]{background:#3D6DCC;top:110px;left:580px}.btn[data-btn="RT"]{background:#C3E67E;top:110px;left:470px}.btn[data-btn="LS"]{background:#D9B64C;top:210px;left:310px;width:80px;height:80px}.btn[data-btn="RS"]{background:#805973;top:210px;left:530px;width:80px;height:80px}.btn[data-btn="View"]{background:#646464;top:-60px;left:310px;width:80px;height:40px;border-radius:30px;font-size:20px}.btn[data-btn="Menu"]{background:#646464;top:-60px;left:530px;width:80px;height:40px;border-radius:30px;font-size:20px}.btn.active{filter:brightness(1.5);transform:scale(1.05)}.btn.selected{box-shadow:0 0 0 8px #fff}.stickHighlight.selected{box-shadow:0 0 0 8px #fff}:root{--trail-color:#CEEC73}</style></head><body><div id="app"><div id="stickWrapper" class="stickHighlight"><div id="directionMarkers"><div class="marker" id="marker0"></div><div class="marker" id="marker1"></div><div class="marker" id="marker2"></div><div class="marker" id="marker3"></div><div class="marker" id="marker4"></div><div class="marker" id="marker5"></div><div class="marker" id="marker6"></div><div class="marker" id="marker7"></div></div><canvas id="stickCanvas"></canvas><div class="joystickHead" id="joystickHead"></div></div><div class="btn" data-btn="A">A</div><div class="btn" data-btn="B">B</div><div class="btn" data-btn="X">X</div><div class="btn" data-btn="Y">Y</div><div class="btn" data-btn="LB">LB</div><div class="btn" data-btn="RB">RB</div><div class="btn" data-btn="LT">LT</div><div class="btn" data-btn="RT">RT</div><div class="btn" data-btn="LS">LS</div><div class="btn" data-btn="RS">RS</div><div class="btn" data-btn="View">View</div><div class="btn" data-btn="Menu">Menu</div></div><script>const c={deadzone:.1,trail:12,invertY:!1,map:{A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,View:8,Menu:9,LS:10,RS:11},ignoredForJoystick:["View","Menu","LS","RS"]},b={},s=document.getElementById("stickWrapper"),j=document.querySelector(".joystickHead"),m={...b,stickWrapper:s},h=JSON.parse(localStorage.getItem("hiddenButtons")||"[]");document.querySelectorAll(".btn").forEach(e=>b[e.dataset.btn]=e);const l=JSON.parse(localStorage.getItem("buttonLabels")||"{}");for(const e in l)b[e]&&(b[e].textContent=l[e]);const p=JSON.parse(localStorage.getItem("buttonPositions")||"{}");for(const e in p)b[e]&&(b[e].style.top=p[e].top,b[e].style.left=p[e].left);const f=JSON.parse(localStorage.getItem("elementSizes")||"{}");h.forEach(e=>{b[e]&&(b[e].style.display="none",c.ignoredForJoystick.includes(e)||c.ignoredForJoystick.push(e))});for(const e in f){const t=m[e];t&&(t.style.width=f[e].width||t.style.width,t.style.height=f[e].height||t.style.height,t.style.borderRadius=f[e].borderRadius||t.style.borderRadius,f[e].fontSize&&(t.style.fontSize=f[e].fontSize))}const u=JSON.parse(localStorage.getItem("stickWrapperPosition")||"{}");u.top&&(s.style.top=u.top),u.left&&(s.style.left=u.left),Object.values(b).forEach(e=>{e.addEventListener("click",()=>{if(e.querySelector("input"))return;const t=e.textContent.trim();e.textContent="";const n=document.createElement("input");n.value=t,n.style.cssText="width:100%;height:100%;font-size:"+ (e.style.fontSize||"36px")+";font-family:inherit;text-align:center;text-transform:uppercase;border:none;outline:none;background:transparent;color:inherit;padding:0;margin:0",e.appendChild(n),n.focus(),n.select(),n.addEventListener("blur",o),n.addEventListener("keydown",r);function r(a){"Enter"===a.key?o():"Escape"===a.key&&(e.textContent=t)}function o(){const a=n.value.trim()||t;e.textContent=a,l[e.dataset.btn]=a,localStorage.setItem("buttonLabels",JSON.stringify(l))}})});let d=null;Object.values(m).forEach(e=>{e.addEventListener("mousedown",t=>{d&&d!==e&&d.classList?.remove("selected"),d=e,e.classList.add("selected"),t.stopPropagation()})}),document.addEventListener("mousedown",()=>{d&&d.classList?.remove("selected"),d=null}),document.addEventListener("keydown",e=>{if("Escape"===e.key)return localStorage.clear(),location.reload(),!1;if("Home"===e.key)return Object.values(b).forEach(n=>n.style.display="flex"),h.length=0,localStorage.setItem("hiddenButtons","[]"),c.ignoredForJoystick=["View","Menu",...c.ignoredForJoystick.filter(n=>"View"!==n&&"Menu"!==n)],e.preventDefault(),!1;if(!d)return;const t=window.getComputedStyle(d);let n=parseInt(t.top)||0,r=parseInt(t.left)||0,o=parseInt(t.width)||0,a=parseInt(t.height)||0,i=parseInt(t.borderRadius)||0,y=parseInt(t.fontSize)||36,g=!1;function v(e){return 10*Math.round(e/10)}if(e.ctrlKey)"["===e.key?(y=Math.max(8,y-2),g=!0,e.preven]()*

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Trailpad</title>
    
<style>
    @font-face {
        font-family: "Swiss721";
        src: url("fonts/Swiss721Black.ttf") format("truetype"),
             url("fonts/Swiss721BT-Black.woff2") format("woff2"),
             url("fonts/Swiss721BT-Black.woff") format("woff");
        font-weight: bold;
        font-style: normal;
    }

    html, body {
        width: 100%;
        height: 100%;
        margin: 0;
        background: transparent;
        font-family: "Swiss721", Arial, sans-serif;
        text-transform: uppercase;
        user-select: none;
    }

    #app { position: absolute; top: 80px; left: 30px; }

    #stickWrapper {
        width: 240px; height: 240px;
        position: absolute; top: -20px; left: 0px;
        background: transparent;
        background-image: url("stickWrapper.svg");
        background-size: cover;
        border-radius: 100%;
    }

    #stickCanvas {
        width: 100%; height: 100%;
        display: block;
        background: transparent;
        z-index: 1;
    }

    .joystickHead {
        position: absolute; left: 50%; top: 50%;
        width: 50px; height: 50px;
        border-radius: 50%;
        outline: 4px solid rgba(255,255,255,0.3);
        outline-offset: -4px;
        box-shadow: 0px 0px 0px 5px rgba(0,0,0,1);
        transform: translate(-50%,-50%) scale(1);
        pointer-events: none;
        display: flex; align-items: center; justify-content: center;
        font-weight: bold; font-size: 24px;
        transition: left 0.01s, top 0.01s, transform 0.1s;
        background: rgba(128,128,128,1); color: #000; z-index: 3;
    }

    #directionMarkers {
        position: absolute; top: 0; left: 0;
        width: 100%; height: 100%;
        pointer-events: none; z-index: 2;
    }

    .marker {
        position: absolute; width: 10px; height: 10px;
        border-radius: 50%; background: rgba(80,80,80,1);
        transform: translate(-50%, -50%);
        transition: all 0.1s;
    }

    .marker.active { background: rgba(255,255,255,1); }

    .btn {
        position: absolute; background: rgba(0,0,0,1);
        width: 90px; height: 90px;
        display: flex; align-items: center; justify-content: center;
        font-size: 36px; transition: 0.05s;
        border-radius: 50%; outline: 6px solid rgba(255,255,255,0.3);
        outline-offset: -6px; box-shadow: 0 2px 0px 6px rgba(0,0,0,1);
        filter: brightness(0.9);
        overflow: hidden; text-align: center; white-space: nowrap;
        color: #000; cursor: pointer;
    }

    /*
    2XKO Default in-game button colors:
    L:		#B8ADD9
    M:		#9C7ACC
    H:		#6C30BF
    D:		#D98041
    S1:		#4CB6D9
    S2:		#CC5C5C
    T:		#C3E67E
    P:		#3D6DCC
    TH:		#D9B64C
    TA:		#805973
    DS:		#D9B64C
    ULT:	#7F47CC	
    */

    .btn[data-btn="A"] { background: #4CB6D9; top: 110px; left: 250px; }
    .btn[data-btn="B"] { background: #CC5C5C; top: 110px; left: 360px; }
    .btn[data-btn="X"] { background: #B8ADD9; top: 0px; left: 250px; }
    .btn[data-btn="Y"] { background: #9C7ACC; top: 0px; left: 360px; }

    .btn[data-btn="LB"] { background: #D98041; top: 0px; left: 580px; }
    .btn[data-btn="RB"] { background: #6C30BF; top: 0px; left: 470px; }
    .btn[data-btn="LT"] { background: #3D6DCC; top: 110px; left: 580px; }
    .btn[data-btn="RT"] { background: #C3E67E; top: 110px; left: 470px; }

    .btn[data-btn="LS"] { background: #D9B64C; top: 210px; left: 310px; width: 80px; height: 80px; }
    .btn[data-btn="RS"] { background: #805973; top: 210px; left: 530px; width: 80px; height: 80px; }
    .btn[data-btn="View"] { background: #646464; top: -60px; left: 310px; width: 80px; height: 40px; border-radius: 30px; font-size: 20px }
    .btn[data-btn="Menu"] { background: #646464; top: -60px; left: 530px; width: 80px; height: 40px; border-radius: 30px; font-size: 20px }

    .btn.active { filter: brightness(1.5); transform: scale(1.05); }
    .btn.selected { box-shadow: 0px 0px 0px 8px rgba(255,255,255,1) }
    .stickHighlight.selected { box-shadow: 0px 0px 0px 8px rgba(255,255,255,1) }

    :root {
    --trail-color: #CEEC73; /* default trail color */
    }
</style>
</head>
<body>
<div id="app">
    <div id="stickWrapper" class="stickHighlight">
        <div id="directionMarkers">
            <div class="marker" id="marker0"></div>
            <div class="marker" id="marker1"></div>
            <div class="marker" id="marker2"></div>
            <div class="marker" id="marker3"></div>
            <div class="marker" id="marker4"></div>
            <div class="marker" id="marker5"></div>
            <div class="marker" id="marker6"></div>
            <div class="marker" id="marker7"></div>
        </div>
        <canvas id="stickCanvas"></canvas>
        <div class="joystickHead" id="joystickHead"></div>
    </div>

    <div class="btn" data-btn="A">A</div>
    <div class="btn" data-btn="B">B</div>
    <div class="btn" data-btn="X">X</div>
    <div class="btn" data-btn="Y">Y</div>
    <div class="btn" data-btn="LB">LB</div>
    <div class="btn" data-btn="RB">RB</div>
    <div class="btn" data-btn="LT">LT</div>
    <div class="btn" data-btn="RT">RT</div>
    <div class="btn" data-btn="LS">LS</div>
    <div class="btn" data-btn="RS">RS</div>
    <div class="btn" data-btn="View">View</div>
    <div class="btn" data-btn="Menu">Menu</div>
</div>

<script>
const _0x96553d=_0x1942;(function(_0xac9778,_0x244778){const _0x1b73f5=_0x1942,_0x3bfe22=_0xac9778();while(!![]){try{const _0x4314dd=parseInt(_0x1b73f5(0x19f))/0x1*(-parseInt(_0x1b73f5(0x1d1))/0x2)+-parseInt(_0x1b73f5(0x1f9))/0x3+parseInt(_0x1b73f5(0x196))/0x4+parseInt(_0x1b73f5(0x1af))/0x5+-parseInt(_0x1b73f5(0x1a6))/0x6+-parseInt(_0x1b73f5(0x1e2))/0x7+parseInt(_0x1b73f5(0x18e))/0x8;if(_0x4314dd===_0x244778)break;else _0x3bfe22['push'](_0x3bfe22['shift']());}catch(_0x56849f){_0x3bfe22['push'](_0x3bfe22['shift']());}}}(_0xdee5,0xde3d2));const btnEls={};document[_0x96553d(0x1fe)](_0x96553d(0x1cb))[_0x96553d(0x18f)](_0x449b23=>btnEls[_0x449b23[_0x96553d(0x1bc)][_0x96553d(0x1d8)]]=_0x449b23);const savedLabels=JSON[_0x96553d(0x18c)](localStorage['getItem'](_0x96553d(0x1db))||'{}');for(const key in savedLabels)if(btnEls[key])btnEls[key]['textContent']=savedLabels[key];const savedPositions=JSON[_0x96553d(0x18c)](localStorage[_0x96553d(0x1a2)](_0x96553d(0x1e8))||'{}');for(const key in savedPositions)btnEls[key]&&(btnEls[key][_0x96553d(0x182)][_0x96553d(0x1c2)]=savedPositions[key][_0x96553d(0x1c2)],btnEls[key][_0x96553d(0x182)][_0x96553d(0x1f4)]=savedPositions[key][_0x96553d(0x1f4)]);function _0xdee5(){const _0x3582af=['gamepadconnected','values','toggle','getElementById','some','shift','textTransform','.btn','remove','preventDefault','length','getPropertyValue','fontSize','7562HPmihq','stickWrapper','height','index','hiddenButtons','map','value','btn','ignoredForJoystick','elementSizes','buttonLabels','margin','stringify','ArrowLeft','background','translate(-50%,-50%)\x20scale(1.3)','#fff','11147094pFtrSQ','#CEEC73','add','abs','blur','color','buttonPositions','appendChild','borderRadius','100%','documentElement','transparent','mousedown','key','getContext','center','gamepad','View','left','stickWrapperPosition','removeItem','ArrowUp','shiftKey','5047590nQSeyT','setItem','includes','max','clearRect','querySelectorAll','Connected:','uppercase','getGamepads','selected','Home','transform','trim','style','keydown','focus','now','strokeStyle','border','Menu','click','ArrowRight','deadzone','parse','flex','41245896cgppXM','forEach','round','gamepaddisconnected','backgroundColor','clientWidth','right','querySelector','1487664DRwiPv','--trail-color','display','resize','addEventListener','push','input','ArrowDown','hypot','265zFcHgT','none','textContent','getItem','lineWidth','width','createElement','7281408METAYJ','trail','axes','stopPropagation','undefined','lineTo','Escape','clientHeight','select','4365710GkAxhP','pressed','.joystickHead','rgba(128,128,128,1)','stickCanvas','Enter','globalAlpha','active','textAlign','moveTo','atan2','padding','down','dataset','buttons','classList','outline','inherit','lineCap','top','getComputedStyle'];_0xdee5=function(){return _0x3582af;};return _0xdee5();}const savedSizes=JSON[_0x96553d(0x18c)](localStorage[_0x96553d(0x1a2)]('elementSizes')||'{}'),stickWrapper=document[_0x96553d(0x1c7)]('stickWrapper'),joystick=document[_0x96553d(0x195)](_0x96553d(0x1b1)),movableElements={...btnEls,'stickWrapper':stickWrapper},hiddenButtons=JSON['parse'](localStorage[_0x96553d(0x1a2)](_0x96553d(0x1d5))||'[]');hiddenButtons[_0x96553d(0x18f)](_0x89b0a5=>{const _0x22f308=_0x96553d;if(btnEls[_0x89b0a5]){btnEls[_0x89b0a5]['style'][_0x22f308(0x198)]=_0x22f308(0x1a0);if(!cfg['ignoredForJoystick'][_0x22f308(0x1fb)](_0x89b0a5))cfg[_0x22f308(0x1d9)][_0x22f308(0x19b)](_0x89b0a5);}});for(const key in savedSizes){const el=movableElements[key];if(el){el[_0x96553d(0x182)][_0x96553d(0x1a4)]=savedSizes[key][_0x96553d(0x1a4)]||el[_0x96553d(0x182)][_0x96553d(0x1a4)],el[_0x96553d(0x182)][_0x96553d(0x1d3)]=savedSizes[key]['height']||el[_0x96553d(0x182)][_0x96553d(0x1d3)],el['style'][_0x96553d(0x1ea)]=savedSizes[key]['borderRadius']||el[_0x96553d(0x182)][_0x96553d(0x1ea)];if(savedSizes[key][_0x96553d(0x1d0)])el['style'][_0x96553d(0x1d0)]=savedSizes[key][_0x96553d(0x1d0)];}}function _0x1942(_0x5deffa,_0x2ed49c){const _0xdee565=_0xdee5();return _0x1942=function(_0x19423c,_0x31a1f3){_0x19423c=_0x19423c-0x182;let _0x1a0281=_0xdee565[_0x19423c];return _0x1a0281;},_0x1942(_0x5deffa,_0x2ed49c);}const savedStickPos=JSON[_0x96553d(0x18c)](localStorage[_0x96553d(0x1a2)](_0x96553d(0x1f5))||'{}');if(savedStickPos[_0x96553d(0x1c2)])stickWrapper[_0x96553d(0x182)]['top']=savedStickPos[_0x96553d(0x1c2)];if(savedStickPos[_0x96553d(0x1f4)])stickWrapper['style'][_0x96553d(0x1f4)]=savedStickPos[_0x96553d(0x1f4)];Object[_0x96553d(0x1c5)](btnEls)[_0x96553d(0x18f)](_0x4db0db=>{const _0x9e465c=_0x96553d;_0x4db0db[_0x9e465c(0x19a)](_0x9e465c(0x189),()=>{const _0xe9d25e=_0x9e465c;if(_0x4db0db[_0xe9d25e(0x195)](_0xe9d25e(0x19c)))return;const _0x370342=_0x4db0db[_0xe9d25e(0x1a1)]['trim']();_0x4db0db['textContent']='';const _0x522c5d=document[_0xe9d25e(0x1a5)](_0xe9d25e(0x19c));_0x522c5d[_0xe9d25e(0x1d7)]=_0x370342,_0x522c5d[_0xe9d25e(0x182)][_0xe9d25e(0x1a4)]='100%',_0x522c5d[_0xe9d25e(0x182)][_0xe9d25e(0x1d3)]=_0xe9d25e(0x1eb),_0x522c5d[_0xe9d25e(0x182)][_0xe9d25e(0x1d0)]=_0x4db0db[_0xe9d25e(0x182)][_0xe9d25e(0x1d0)]||'36px',_0x522c5d[_0xe9d25e(0x182)]['fontFamily']=_0xe9d25e(0x1c0),_0x522c5d[_0xe9d25e(0x182)][_0xe9d25e(0x1b7)]=_0xe9d25e(0x1f1),_0x522c5d[_0xe9d25e(0x182)][_0xe9d25e(0x1ca)]=_0xe9d25e(0x200),_0x522c5d[_0xe9d25e(0x182)][_0xe9d25e(0x187)]=_0xe9d25e(0x1a0),_0x522c5d[_0xe9d25e(0x182)][_0xe9d25e(0x1bf)]=_0xe9d25e(0x1a0),_0x522c5d[_0xe9d25e(0x182)][_0xe9d25e(0x1df)]=_0xe9d25e(0x1ed),_0x522c5d[_0xe9d25e(0x182)]['color']='inherit',_0x522c5d[_0xe9d25e(0x182)][_0xe9d25e(0x1ba)]='0',_0x522c5d[_0xe9d25e(0x182)][_0xe9d25e(0x1dc)]='0',_0x4db0db[_0xe9d25e(0x1e9)](_0x522c5d),_0x522c5d[_0xe9d25e(0x184)](),_0x522c5d[_0xe9d25e(0x1ae)](),_0x522c5d[_0xe9d25e(0x19a)](_0xe9d25e(0x1e6),_0x9b0ff),_0x522c5d[_0xe9d25e(0x19a)](_0xe9d25e(0x183),_0x15b1ae=>{const _0x41cc10=_0xe9d25e;if(_0x15b1ae['key']===_0x41cc10(0x1b4))_0x9b0ff();else{if(_0x15b1ae[_0x41cc10(0x1ef)]===_0x41cc10(0x1ac))_0x4db0db['textContent']=_0x370342;}});function _0x9b0ff(){const _0x5e055b=_0xe9d25e,_0x9e8fca=_0x522c5d[_0x5e055b(0x1d7)][_0x5e055b(0x205)]()||_0x370342;_0x4db0db[_0x5e055b(0x1a1)]=_0x9e8fca,savedLabels[_0x4db0db[_0x5e055b(0x1bc)]['btn']]=_0x9e8fca,localStorage[_0x5e055b(0x1fa)](_0x5e055b(0x1db),JSON[_0x5e055b(0x1dd)](savedLabels));}});});let selectedElement=null;Object['values'](movableElements)[_0x96553d(0x18f)](_0x5785de=>{const _0x27082a=_0x96553d;_0x5785de['addEventListener'](_0x27082a(0x1ee),_0xb94132=>{const _0x3707da=_0x27082a;if(selectedElement&&selectedElement!==_0x5785de)selectedElement['classList']?.[_0x3707da(0x1cc)](_0x3707da(0x202));selectedElement=_0x5785de,_0x5785de[_0x3707da(0x1be)][_0x3707da(0x1e4)](_0x3707da(0x202)),_0xb94132[_0x3707da(0x1a9)]();});}),document['addEventListener'](_0x96553d(0x1ee),()=>{const _0x87c1d8=_0x96553d;if(selectedElement)selectedElement['classList']?.[_0x87c1d8(0x1cc)](_0x87c1d8(0x202));selectedElement=null;}),document[_0x96553d(0x19a)](_0x96553d(0x183),_0x23c9e7=>{const _0x143f85=_0x96553d;if(_0x23c9e7[_0x143f85(0x1ef)]===_0x143f85(0x1ac)){localStorage[_0x143f85(0x1f6)](_0x143f85(0x1db)),localStorage[_0x143f85(0x1f6)]('buttonPositions'),localStorage[_0x143f85(0x1f6)](_0x143f85(0x1f5)),localStorage[_0x143f85(0x1f6)]('elementSizes'),localStorage[_0x143f85(0x1f6)](_0x143f85(0x1d5)),location['reload']();return;}if(_0x23c9e7[_0x143f85(0x1ef)]===_0x143f85(0x203)){Object[_0x143f85(0x1c5)](btnEls)[_0x143f85(0x18f)](_0x564f30=>_0x564f30[_0x143f85(0x182)][_0x143f85(0x198)]=_0x143f85(0x18d)),hiddenButtons['length']=0x0,localStorage['setItem'](_0x143f85(0x1d5),JSON[_0x143f85(0x1dd)](hiddenButtons)),cfg['ignoredForJoystick']=[_0x143f85(0x1f3),_0x143f85(0x188),...cfg['ignoredForJoystick']['filter'](_0x3a107d=>_0x3a107d!==_0x143f85(0x1f3)&&_0x3a107d!==_0x143f85(0x188))],_0x23c9e7[_0x143f85(0x1cd)]();return;}if(!selectedElement)return;const _0x3b271a=window[_0x143f85(0x1c3)](selectedElement);let _0x1688b0=parseInt(_0x3b271a[_0x143f85(0x1c2)])||0x0,_0x48f05f=parseInt(_0x3b271a[_0x143f85(0x1f4)])||0x0,_0x3031c0=parseInt(_0x3b271a['width'])||0x0,_0x30ef86=parseInt(_0x3b271a[_0x143f85(0x1d3)])||0x0,_0x579778=parseInt(_0x3b271a[_0x143f85(0x1ea)])||0x0,_0x1c7a75=parseInt(_0x3b271a['fontSize'])||0x24,_0xa9db24=![];function _0x24ccc2(_0x243484){const _0x36df0e=_0x143f85;return Math[_0x36df0e(0x190)](_0x243484/0xa)*0xa;}if(_0x23c9e7['ctrlKey'])_0x23c9e7[_0x143f85(0x1ef)]==='['&&(_0x1c7a75=Math[_0x143f85(0x1fc)](0x8,_0x1c7a75-0x2),_0xa9db24=!![],_0x23c9e7[_0x143f85(0x1cd)]()),_0x23c9e7[_0x143f85(0x1ef)]===']'&&(_0x1c7a75+=0x2,_0xa9db24=!![],_0x23c9e7[_0x143f85(0x1cd)]()),selectedElement['style'][_0x143f85(0x1d0)]=_0x1c7a75+'px';else{!_0x23c9e7[_0x143f85(0x1f8)]&&(_0x23c9e7[_0x143f85(0x1ef)]===_0x143f85(0x1f7)&&(_0x1688b0-=0xa,_0xa9db24=!![]),_0x23c9e7[_0x143f85(0x1ef)]===_0x143f85(0x19d)&&(_0x1688b0+=0xa,_0xa9db24=!![]),_0x23c9e7[_0x143f85(0x1ef)]===_0x143f85(0x1de)&&(_0x48f05f-=0xa,_0xa9db24=!![]),_0x23c9e7[_0x143f85(0x1ef)]===_0x143f85(0x18a)&&(_0x48f05f+=0xa,_0xa9db24=!![]));_0x23c9e7[_0x143f85(0x1f8)]&&(selectedElement['id']==='stickWrapper'?((_0x23c9e7[_0x143f85(0x1ef)]===_0x143f85(0x1f7)||_0x23c9e7[_0x143f85(0x1ef)]===_0x143f85(0x18a))&&(_0x3031c0+=0xa,_0x30ef86+=0xa,_0xa9db24=!![]),(_0x23c9e7[_0x143f85(0x1ef)]===_0x143f85(0x19d)||_0x23c9e7[_0x143f85(0x1ef)]==='ArrowLeft')&&(_0x3031c0=Math[_0x143f85(0x1fc)](0x32,_0x3031c0-0xa),_0x30ef86=Math['max'](0x32,_0x30ef86-0xa),_0xa9db24=!![])):(_0x23c9e7[_0x143f85(0x1ef)]===_0x143f85(0x19d)&&(_0x30ef86-=0xa,_0xa9db24=!![]),_0x23c9e7[_0x143f85(0x1ef)]===_0x143f85(0x1f7)&&(_0x30ef86+=0xa,_0xa9db24=!![]),_0x23c9e7[_0x143f85(0x1ef)]===_0x143f85(0x1de)&&(_0x3031c0-=0xa,_0xa9db24=!![]),_0x23c9e7['key']==='ArrowRight'&&(_0x3031c0+=0xa,_0xa9db24=!![])));_0x23c9e7[_0x143f85(0x1ef)]==='['&&(_0x579778=Math[_0x143f85(0x1fc)](0x0,_0x579778-0xa),_0xa9db24=!![]);_0x23c9e7[_0x143f85(0x1ef)]===']'&&(_0x579778+=0xa,_0xa9db24=!![]);if(_0x23c9e7[_0x143f85(0x1ef)]==='Delete'&&selectedElement?.[_0x143f85(0x1be)]['contains'](_0x143f85(0x1d8))){selectedElement[_0x143f85(0x182)][_0x143f85(0x198)]='none';const _0xa8759b=selectedElement[_0x143f85(0x1bc)][_0x143f85(0x1d8)];if(!hiddenButtons[_0x143f85(0x1fb)](_0xa8759b))hiddenButtons[_0x143f85(0x19b)](_0xa8759b);localStorage[_0x143f85(0x1fa)](_0x143f85(0x1d5),JSON[_0x143f85(0x1dd)](hiddenButtons));if(!cfg[_0x143f85(0x1d9)][_0x143f85(0x1fb)](_0xa8759b))cfg[_0x143f85(0x1d9)]['push'](_0xa8759b);_0x23c9e7[_0x143f85(0x1cd)]();return;}}if(_0xa9db24){selectedElement[_0x143f85(0x182)][_0x143f85(0x1c2)]=_0x24ccc2(_0x1688b0)+'px',selectedElement[_0x143f85(0x182)][_0x143f85(0x1f4)]=_0x24ccc2(_0x48f05f)+'px',selectedElement[_0x143f85(0x182)]['width']=_0x24ccc2(_0x3031c0)+'px',selectedElement[_0x143f85(0x182)][_0x143f85(0x1d3)]=_0x24ccc2(_0x30ef86)+'px',selectedElement['style'][_0x143f85(0x1ea)]=_0x24ccc2(_0x579778)+'px',selectedElement[_0x143f85(0x182)][_0x143f85(0x1d0)]=_0x1c7a75+'px';const _0x22af1e=JSON['parse'](localStorage[_0x143f85(0x1a2)](_0x143f85(0x1da))||'{}');if(selectedElement['dataset']?.[_0x143f85(0x1d8)])savedPositions[selectedElement[_0x143f85(0x1bc)][_0x143f85(0x1d8)]]={'top':selectedElement['style'][_0x143f85(0x1c2)],'left':selectedElement[_0x143f85(0x182)][_0x143f85(0x1f4)]},localStorage[_0x143f85(0x1fa)](_0x143f85(0x1e8),JSON[_0x143f85(0x1dd)](savedPositions)),_0x22af1e[selectedElement[_0x143f85(0x1bc)]['btn']]={'width':selectedElement[_0x143f85(0x182)][_0x143f85(0x1a4)],'height':selectedElement[_0x143f85(0x182)][_0x143f85(0x1d3)],'borderRadius':selectedElement['style']['borderRadius'],'fontSize':selectedElement[_0x143f85(0x182)][_0x143f85(0x1d0)]};else selectedElement['id']===_0x143f85(0x1d2)&&(localStorage['setItem']('stickWrapperPosition',JSON[_0x143f85(0x1dd)]({'top':selectedElement[_0x143f85(0x182)][_0x143f85(0x1c2)],'left':selectedElement[_0x143f85(0x182)][_0x143f85(0x1f4)]})),_0x22af1e['stickWrapper']={'width':selectedElement[_0x143f85(0x182)][_0x143f85(0x1a4)],'height':selectedElement[_0x143f85(0x182)][_0x143f85(0x1d3)],'borderRadius':selectedElement[_0x143f85(0x182)]['borderRadius']},resizeCanvas(),joystick[_0x143f85(0x182)][_0x143f85(0x1f4)]=canvas['width']/0x2+'px',joystick['style'][_0x143f85(0x1c2)]=canvas[_0x143f85(0x1d3)]/0x2+'px',updateMarkers(-0x1));localStorage[_0x143f85(0x1fa)](_0x143f85(0x1da),JSON[_0x143f85(0x1dd)](_0x22af1e));}});function moveSelectedElement(_0x1c6b50,_0xbd9b7a){const _0x517a9c=_0x96553d;if(!selectedElement)return;const _0x918a95=window['getComputedStyle'](selectedElement);let _0x1d5a75=parseInt(_0x918a95[_0x517a9c(0x1c2)])||0x0,_0x119676=parseInt(_0x918a95[_0x517a9c(0x1f4)])||0x0;_0x1d5a75+=_0xbd9b7a,_0x119676+=_0x1c6b50;function _0x5408ed(_0xc44658){return Math['round'](_0xc44658/0xa)*0xa;}selectedElement[_0x517a9c(0x182)][_0x517a9c(0x1c2)]=_0x5408ed(_0x1d5a75)+'px',selectedElement[_0x517a9c(0x182)][_0x517a9c(0x1f4)]=_0x5408ed(_0x119676)+'px';const _0x5b77b9=JSON[_0x517a9c(0x18c)](localStorage[_0x517a9c(0x1a2)](_0x517a9c(0x1e8))||'{}');if(selectedElement[_0x517a9c(0x1bc)]?.[_0x517a9c(0x1d8)])_0x5b77b9[selectedElement['dataset'][_0x517a9c(0x1d8)]]={'top':selectedElement[_0x517a9c(0x182)][_0x517a9c(0x1c2)],'left':selectedElement[_0x517a9c(0x182)][_0x517a9c(0x1f4)]},localStorage['setItem'](_0x517a9c(0x1e8),JSON[_0x517a9c(0x1dd)](_0x5b77b9));else selectedElement['id']===_0x517a9c(0x1d2)&&localStorage[_0x517a9c(0x1fa)]('stickWrapperPosition',JSON[_0x517a9c(0x1dd)]({'top':selectedElement[_0x517a9c(0x182)][_0x517a9c(0x1c2)],'left':selectedElement[_0x517a9c(0x182)][_0x517a9c(0x1f4)]}));}const elementMoveTimers={'up':0x0,'down':0x0,'left':0x0,'right':0x0},moveDelay=0x96,moveStep=0xa;function handleDpadMovement(_0x1eb4cc){const _0x32c383=_0x96553d;if(!selectedElement||!_0x1eb4cc)return;const _0x2a80cb=performance[_0x32c383(0x185)](),_0x944b61=[{'btn':0xc,'dx':0x0,'dy':-moveStep,'key':'up'},{'btn':0xd,'dx':0x0,'dy':moveStep,'key':_0x32c383(0x1bb)},{'btn':0xe,'dx':-moveStep,'dy':0x0,'key':_0x32c383(0x1f4)},{'btn':0xf,'dx':moveStep,'dy':0x0,'key':_0x32c383(0x194)}];_0x944b61[_0x32c383(0x18f)](_0x201820=>{const _0xe8adfc=_0x32c383;_0x1eb4cc[_0xe8adfc(0x1bd)][_0x201820['btn']]?.[_0xe8adfc(0x1b0)]&&_0x2a80cb-elementMoveTimers[_0x201820[_0xe8adfc(0x1ef)]]>moveDelay&&(moveSelectedElement(_0x201820['dx'],_0x201820['dy']),elementMoveTimers[_0x201820['key']]=_0x2a80cb);});}let activeGamepadIndex=null;function detectActiveGamepad(){const _0x48bc55=_0x96553d,_0x3d3c37=navigator[_0x48bc55(0x201)]();for(let _0x363d17=0x0;_0x363d17<_0x3d3c37[_0x48bc55(0x1ce)];_0x363d17++){const _0x28f9eb=_0x3d3c37[_0x363d17];if(!_0x28f9eb)continue;const _0x33d7cc=_0x28f9eb['buttons'][_0x48bc55(0x1c8)](_0x18e565=>_0x18e565[_0x48bc55(0x1b0)]),_0x2f2a1a=_0x28f9eb[_0x48bc55(0x1a8)][_0x48bc55(0x1c8)](_0x20b02e=>Math[_0x48bc55(0x1e5)](_0x20b02e)>cfg[_0x48bc55(0x18b)]);if(_0x33d7cc||_0x2f2a1a)return _0x363d17;}return null;}window[_0x96553d(0x19a)](_0x96553d(0x1c4),_0x56c78c=>console['log'](_0x96553d(0x1ff),_0x56c78c[_0x96553d(0x1f2)]['id'],_0x56c78c[_0x96553d(0x1f2)][_0x96553d(0x1d4)])),window[_0x96553d(0x19a)](_0x96553d(0x191),_0x44f4d4=>{const _0x10d184=_0x96553d;console['log']('Disconnected:',_0x44f4d4[_0x10d184(0x1f2)]['id'],_0x44f4d4[_0x10d184(0x1f2)]['index']);if(activeGamepadIndex===_0x44f4d4[_0x10d184(0x1f2)][_0x10d184(0x1d4)])activeGamepadIndex=null;});const lastPressedTimes={};function updateButtons(_0xa82c46){const _0x2c4ec1=_0x96553d;if(!_0xa82c46?.[_0x2c4ec1(0x1bd)]){joystick[_0x2c4ec1(0x182)][_0x2c4ec1(0x204)]='translate(-50%,-50%)\x20scale(1)',joystick['textContent']='',joystick[_0x2c4ec1(0x182)][_0x2c4ec1(0x1df)]=_0x2c4ec1(0x1b2),joystick[_0x2c4ec1(0x182)][_0x2c4ec1(0x1e7)]=_0x2c4ec1(0x1e1),Object['values'](btnEls)[_0x2c4ec1(0x18f)](_0x3b143b=>_0x3b143b['classList']['remove'](_0x2c4ec1(0x1b6)));return;}for(const _0x401df2 in btnEls){const _0x391289=cfg[_0x2c4ec1(0x1d6)][_0x401df2];if(_0x391289===undefined)continue;const _0x158917=!!_0xa82c46[_0x2c4ec1(0x1bd)][_0x391289]?.[_0x2c4ec1(0x1b0)];btnEls[_0x401df2]['classList'][_0x2c4ec1(0x1c6)](_0x2c4ec1(0x1b6),_0x158917),lastPressedTimes[_0x401df2]=_0x158917?performance[_0x2c4ec1(0x185)]():lastPressedTimes[_0x401df2]||0x0;}let _0x5a1f79=null,_0x4e3d71=-0x1;for(const _0x2c93f3 in lastPressedTimes){btnEls[_0x2c93f3][_0x2c4ec1(0x1be)]['contains'](_0x2c4ec1(0x1b6))&&!cfg[_0x2c4ec1(0x1d9)][_0x2c4ec1(0x1fb)](_0x2c93f3)&&lastPressedTimes[_0x2c93f3]>_0x4e3d71&&(_0x4e3d71=lastPressedTimes[_0x2c93f3],_0x5a1f79=_0x2c93f3);}if(_0x5a1f79){const _0x16e0f8=window['getComputedStyle'](btnEls[_0x5a1f79])[_0x2c4ec1(0x192)],_0x33ffff=window[_0x2c4ec1(0x1c3)](btnEls[_0x5a1f79])[_0x2c4ec1(0x1e7)];joystick['style'][_0x2c4ec1(0x204)]=_0x2c4ec1(0x1e0),joystick[_0x2c4ec1(0x1a1)]=btnEls[_0x5a1f79][_0x2c4ec1(0x1a1)],joystick[_0x2c4ec1(0x182)]['background']=_0x16e0f8,joystick[_0x2c4ec1(0x182)][_0x2c4ec1(0x1e7)]=_0x33ffff;}else joystick[_0x2c4ec1(0x182)][_0x2c4ec1(0x204)]='translate(-50%,-50%)\x20scale(1)',joystick[_0x2c4ec1(0x1a1)]='',joystick[_0x2c4ec1(0x182)][_0x2c4ec1(0x1df)]=_0x2c4ec1(0x1b2),joystick[_0x2c4ec1(0x182)][_0x2c4ec1(0x1e7)]=_0x2c4ec1(0x1e1);}function radialDeadzone(_0x30402d,_0x14ca7a,_0x50cea3){const _0x722c1b=Math['hypot'](_0x30402d,_0x14ca7a);if(_0x722c1b<_0x50cea3)return{'x':0x0,'y':0x0};const _0x55bc54=(_0x722c1b-_0x50cea3)/(0x1-_0x50cea3);return{'x':_0x30402d*_0x55bc54/_0x722c1b,'y':_0x14ca7a*_0x55bc54/_0x722c1b};}function clampCircle(_0x329118,_0x4d06aa){const _0x49dc08=_0x96553d,_0x5f1519=Math[_0x49dc08(0x19e)](_0x329118,_0x4d06aa);if(_0x5f1519>0x1)return{'x':_0x329118/_0x5f1519,'y':_0x4d06aa/_0x5f1519};return{'x':_0x329118,'y':_0x4d06aa};}function getStickXY(_0x2b602c){const _0x4a8304=_0x96553d;if(!_0x2b602c)return{'x':0x0,'y':0x0};let {x:_0x2f9a47,y:_0xf9f899}=radialDeadzone(_0x2b602c[_0x4a8304(0x1a8)][0x0]||0x0,_0x2b602c['axes'][0x1]||0x0,cfg[_0x4a8304(0x18b)]);const _0x573c91=_0x2b602c[_0x4a8304(0x1bd)][0xc]?.['pressed']?0x1:0x0,_0x515499=_0x2b602c['buttons'][0xd]?.[_0x4a8304(0x1b0)]?0x1:0x0,_0x433db1=_0x2b602c[_0x4a8304(0x1bd)][0xe]?.[_0x4a8304(0x1b0)]?0x1:0x0,_0x136a9f=_0x2b602c[_0x4a8304(0x1bd)][0xf]?.[_0x4a8304(0x1b0)]?0x1:0x0;return(_0x573c91||_0x515499||_0x433db1||_0x136a9f)&&(_0xf9f899=(_0x573c91?-0x1:0x0)+(_0x515499?0x1:0x0),_0x2f9a47=(_0x433db1?-0x1:0x0)+(_0x136a9f?0x1:0x0),_0x2f9a47&&_0xf9f899&&(_0x2f9a47*=0.707,_0xf9f899*=0.707)),clampCircle(_0x2f9a47,cfg['invertY']?-_0xf9f899:_0xf9f899);}function updateMarkers(_0x4f2dae){const _0x2c44eb=_0x96553d,_0x5b7a3f=[{'x':0x1,'y':0x0},{'x':0.707,'y':0.707},{'x':0x0,'y':0x1},{'x':-0.707,'y':0.707},{'x':-0x1,'y':0x0},{'x':-0.707,'y':-0.707},{'x':0x0,'y':-0x1},{'x':0.707,'y':-0.707}],_0x3acbd8=0x2d;_0x5b7a3f[_0x2c44eb(0x18f)]((_0x6bca39,_0x99ff3b)=>{const _0x49fb5c=_0x2c44eb,_0x4001fe=document[_0x49fb5c(0x1c7)]('marker'+_0x99ff3b);_0x4001fe['style']['left']=0x32+_0x6bca39['x']*_0x3acbd8+'%',_0x4001fe[_0x49fb5c(0x182)][_0x49fb5c(0x1c2)]=0x32+_0x6bca39['y']*_0x3acbd8+'%',_0x4001fe[_0x49fb5c(0x1be)][_0x49fb5c(0x1c6)](_0x49fb5c(0x1b6),_0x99ff3b===_0x4f2dae);});}const canvas=document[_0x96553d(0x1c7)](_0x96553d(0x1b3)),ctx=canvas[_0x96553d(0x1f0)]('2d');let trail=[];function resizeCanvas(){const _0x74a68b=_0x96553d;canvas[_0x74a68b(0x1a4)]=stickWrapper[_0x74a68b(0x193)],canvas['height']=stickWrapper[_0x74a68b(0x1ad)];}resizeCanvas(),window[_0x96553d(0x19a)](_0x96553d(0x199),resizeCanvas);function drawTrail(_0x583398,_0x5e0ab1){const _0x210e0f=_0x96553d,_0x4a9d5d=canvas[_0x210e0f(0x1a4)]/0x2,_0x4dd3cd=canvas[_0x210e0f(0x1d3)]/0x2,_0x26dfff=Math['min'](canvas[_0x210e0f(0x1a4)],canvas[_0x210e0f(0x1d3)])/0x2-0xa;if(typeof _0x583398!=='undefined'&&typeof _0x5e0ab1!==_0x210e0f(0x1aa)){trail[_0x210e0f(0x19b)]({'x':_0x583398,'y':_0x5e0ab1});if(trail[_0x210e0f(0x1ce)]>cfg[_0x210e0f(0x1a7)])trail[_0x210e0f(0x1c9)]();}if(!trail[_0x210e0f(0x1ce)]||trail['length']<0x2){ctx[_0x210e0f(0x1fd)](0x0,0x0,canvas[_0x210e0f(0x1a4)],canvas[_0x210e0f(0x1d3)]);return;}ctx[_0x210e0f(0x1fd)](0x0,0x0,canvas[_0x210e0f(0x1a4)],canvas[_0x210e0f(0x1d3)]);const _0x191e3b=(getComputedStyle(document[_0x210e0f(0x1ec)])[_0x210e0f(0x1cf)](_0x210e0f(0x197))||_0x210e0f(0x1e3))['trim'](),_0x5ee064=trail[0x0],_0xa0c696=Math[_0x210e0f(0x1e5)](_0x5ee064['x'])<=1.01&&Math[_0x210e0f(0x1e5)](_0x5ee064['y'])<=1.01;for(let _0x4b4b40=0x1;_0x4b4b40<trail[_0x210e0f(0x1ce)];_0x4b4b40++){const _0x16ab87=trail[_0x4b4b40-0x1],_0x227353=trail[_0x4b4b40],_0x4b093c=_0x4b4b40/trail[_0x210e0f(0x1ce)],_0x1c7c96=_0xa0c696?_0x4a9d5d+_0x16ab87['x']*_0x26dfff:_0x16ab87['x'],_0x88a1fe=_0xa0c696?_0x4dd3cd+_0x16ab87['y']*_0x26dfff:_0x16ab87['y'],_0x396d74=_0xa0c696?_0x4a9d5d+_0x227353['x']*_0x26dfff:_0x227353['x'],_0x19fd69=_0xa0c696?_0x4dd3cd+_0x227353['y']*_0x26dfff:_0x227353['y'];if(!isFinite(_0x1c7c96)||!isFinite(_0x88a1fe)||!isFinite(_0x396d74)||!isFinite(_0x19fd69))continue;ctx['beginPath'](),ctx[_0x210e0f(0x1b8)](_0x1c7c96,_0x88a1fe),ctx[_0x210e0f(0x1ab)](_0x396d74,_0x19fd69),ctx[_0x210e0f(0x1a3)]=0xa*(_0x4b093c*0x2),ctx[_0x210e0f(0x1c1)]=_0x210e0f(0x190),ctx[_0x210e0f(0x1b5)]=0x1,ctx[_0x210e0f(0x186)]=_0x191e3b,ctx['stroke']();}ctx[_0x210e0f(0x1b5)]=0x1;}function animate(){const _0x446244=_0x96553d;activeGamepadIndex=detectActiveGamepad();const _0xdd8a5d=navigator['getGamepads']()[activeGamepadIndex];updateButtons(_0xdd8a5d),handleDpadMovement(_0xdd8a5d);const {x:_0x376be5,y:_0x3ce4ba}=getStickXY(_0xdd8a5d),_0x2879a8=canvas[_0x446244(0x1a4)]/0x2,_0x152e1e=canvas['height']/0x2,_0x1e5eb1=canvas[_0x446244(0x1a4)]/0x2-0x19,_0x42c63e=_0x2879a8+_0x376be5*_0x1e5eb1,_0x5f0963=_0x152e1e+_0x3ce4ba*_0x1e5eb1;joystick[_0x446244(0x182)][_0x446244(0x1f4)]=_0x42c63e+'px',joystick[_0x446244(0x182)]['top']=_0x5f0963+'px';const _0xfa1769=(Math[_0x446244(0x1b9)](_0x3ce4ba,_0x376be5)*0xb4/Math['PI']+0x168)%0x168;let _0x2777a3=-0x1;if(Math[_0x446244(0x19e)](_0x376be5,_0x3ce4ba)>0.5)_0x2777a3=Math[_0x446244(0x190)](_0xfa1769/0x2d)%0x8;updateMarkers(_0x2777a3),trail[_0x446244(0x19b)]({'x':_0x42c63e,'y':_0x5f0963});if(trail[_0x446244(0x1ce)]>cfg['trail'])trail[_0x446244(0x1c9)]();drawTrail(),requestAnimationFrame(animate);}animate();
</script>

</body>
</html>
